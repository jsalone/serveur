<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">


<!--////////////////////////////////////////////////////////////////////////////////////////////////////////////////-->
<!-- 														HEAD 													-->
<!--////////////////////////////////////////////////////////////////////////////////////////////////////////////////-->
 <head>
    <meta charset="utf-8">
    <title>PQCNP</title>
    <link rel="stylesheet" href="test2.css" />
  </head>



<!--////////////////////////////////////////////////////////////////////////////////////////////////////////////////-->
<!-- 														BODY 													-->
<!--////////////////////////////////////////////////////////////////////////////////////////////////////////////////-->
<body>
<!-- Ceci est un commentaire HTML -->
<header></header>


<fieldset id="part" class="container">
  <legend>Partie</legend>
        <fieldset  id="rp" class="item">
          <legend>Rejoindre une partie</legend>
          <button id="rejoindrepartie">Rejoindre la partie</button>   
        </fieldset>
     
        <fieldset id="cp" class="item">
          <legend>Créer une partie</legend>
          <button id="creerpartie">Créer la partie</button>
        </fieldset>
</fieldset>

<br>

<fieldset>
  <legend>Info generale</legend>        
      <label>Jour: <input type='text' id="jour"readonly></label>
      <label>Meteo: <input type='text' id="meteo"readonly></label>
      <label>Prevision Meteo: <input type='text' id="prevmeteo"readonly></label>
      <label>Budjet: <input type='text' id="budjet"readonly></label>
</fieldset>

<br>

<fieldset id="recet" class="container">
<legend>Production</legend>
<form id="elements">
<fieldset id="pb" class="item">
  <legend>Production boisson</legend>
      <label>Nombre recette: <input type='text' id="jour"></label>

          <br>
          <br>

                <SELECT name="recette1" size="1" id="SELECTrescette1">
                <option value="0">--NONE--</option>
                <option value="1">Limonade</option>
                <option value="2">Café</option>
                <option value="3">Soupe</option>
                <option value="4">Eau</option>
                </SELECT>
              
                <label>Nombre à produire: <input type='num' id="nbproduit1"></label>
             
          <br>
          <br>

                <SELECT name="recette2" size="1" id="SELECTrescette2">
                <option value="0">--NONE--</option>
                <option value="1">Limonade</option>
                <option value="2">Café</option>
                <option value="3">Soupe</option>
                <option value="4">Eau</option>
                </SELECT>
              
                <label>Nombre à produire: <input type='num' id="nbproduit2"></label>
           
          <br>
          <br>

                <SELECT name="recette3" size="1" id="SELECTrescette3">
                <option value="0">--NONE--</option>
                <option value="1">Limonade</option>
                <option value="2">Café</option>
                <option value="3">Soupe</option>
                <option value="4">Eau</option>
                </SELECT>
              
                <label>Nombre à produire: <input type='num' id="nbproduit3"></label>
          

          <br>
          <br>

                <SELECT name="recette4" size="1" id="SELECTrescette4">
                <option value="0">--NONE--</option>
                <option value="1">Limonade</option>
                <option value="2">Café</option>
                <option value="3">Soupe</option>
                <option value="4">Eau</option>
                </SELECT>
              
                <label>Nombre à produire: <input type='num' id="nbproduit4"></label>
</fieldset>

<fieldset id="cb" class="item">
  <legend>Cout boisson</legend>
            <label>Limonade: <input type='num' id="limo"readonly></label>
            <br>
            <label>Cafe: <input type='num' id="cafe"readonly></label>
            <br>
            <label>Soupe: <input type='num' id="soupe"readonly></label>
            <br>
            <label>Eau: <input type='num' id="eau"readonly></label>
</fieldset>
</form>
</fieldset>

<br>

<fieldset>
<legend>Position</legend>
<fieldset>
  <legend>Mini carte</legend>
      <img src="map.jpg"alt="map"/>
      <br>
      <label>Nom du joueur: <input type='text' id="joueur"></label>
      <legend>Position Joureur</legend>
      <label>X: <input type='num' id="xjoueur"></label>
      <label>Y: <input type='num' id="yjoueur"></label>
</fieldset>

<fieldset>
  <legend>Panneau publicitaire</legend>
    <label>X: <input type='num' id="x1"></label>
    <label>Y: <input type='num' id="y1"></label>
    <br>
    <label>X: <input type='num' id="x2"></label>
    <label>Y: <input type='num' id="y2"></label>
    <br>
    <label>X: <input type='num' id="x3"></label>
    <label>Y: <input type='num' id="y3"></label>
    <br>
    <label>X: <input type='num' id="x4"></label>
    <label>Y: <input type='num' id="y4"></label>
    <br>
    <label>X: <input type='num' id="x5"></label>
    <label>Y: <input type='num' id="y5"></label>
    <br>
</fieldset>
</fieldset>

<button id="refresh">Rafraichir</button>
<button id="valider">validé et envoyer</button>
<button id="rinit">rinitialisé</button>
</body>



<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.js"></script>
<script >
        //POST
        $("#valider").click(function(event) {}
          event.preventDefault();
          // fabrication de la donnée
            var data1{
            "SELECTrescette1": $("#SELECTrescette1").val(),
            "SELECTrescette2": $("#SELECTrescette2").val(),
            "SELECTrescette3": $("#SELECTrescette3").val(),
            "SELECTrescette4": $("#SELECTrescette4").val()
            }
            
            var data2{
            "nbproduit1": $("#nbproduit1").val(),
            "nbproduit2": $("#nbproduit2").val(),
            "nbproduit3": $("#nbproduit3").val(),
            "nbproduit4": $("#nbproduit4").val()
            }

            var data3{
            "joueur": $("#joueur").val(),
            "data1": $("#data1").val(),
            "data2": $("#data2").val()
            }

            var dataJason =JSON.stringify(data3)
            //requete pour l'envoie de donnée
            $.ajax("/post/sales", {
            'type': "POST",
            'data': JSON.stringify(data3),// decompresse la donnée en string pour python
            'contentType': "application/json",
            }).done(function() {
              $("#elements").find("input[type='num']").val("")
             })
           })
        $("#valider").click(function(event) {}
          event.preventDefault();
          
             })
           })




        // GET
        $("#rejoindrepartie").click(function(event) {
            event.preventDefault();
            $.ajax("/get/jour").then(function(num) {
            $("#jour").text(num);
            })
            $.ajax("/get/meteo").then(function(text) {
            $("#meteo").text(text);
            })
            $.ajax("/get/prevmeteo").then(function(text) {
            $("#prevmeteo").text(text);
            })
      })
    
</script>



</html>